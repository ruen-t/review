
<section id="reviewPage" >

<md-whiteframe  style="background-color: white" class="md-whiteframe-1dp" flex-sm="400" flex-gt-sm="400" flex-gt-md="400" layout layout-align="center center">
   
   <div layout-gt-xs="row">
          <!--md-input-container  flex-gt-xs>
           <label>Search</label>
           <input ng-model="vm.reviewAnyText"  id="review_search" type="text">
          </md-input-container-->
<md-checkbox aria-label="check" ng-check="vm.dateFilter" ng-click="vm.toggleDateFilter()"></md-checkbox>
          <md-input-container >

            <label>Date filter</label>
             <md-datepicker ng-model="vm.reviewDate"   onkeydown="return false" ng-change="vm.datatableSearch(vm.reviewDate)" >


      </md-datepicker>
      </md-input-container>
       <md-button md-no-ink class="md-primary" ng-click="vm.changeday(-1)" style="padding-bottom: 30px">{{'BACK'|translate}}</md-button>
      <md-button md-no-ink class="md-primary"  ng-click="vm.changeday(1)" style="padding-bottom: 30px">{{'NEXT'|translate}}</md-button>
  </div> 
    
  </md-whiteframe>


    
    <table id="reviewTable" datatable="ng" dt-instance="vm.dtInstance" dt-options="vm.dtOptions" class="row-border hover" style="width: 100%; height:100%">
        <thead style="background-color:#053F8F; color: white">
        <tr>
            <th> <div><md-menu>
            <i ng-click="$mdOpenMenu()" class="material-icons">menu</i>
            <md-menu-content>
              <md-menu-item>
                <md-button ng-click="vm.gotoAddPage()">
                  {{'ADD'|translate}}
                </md-button>
              </md-menu-item>
              <md-menu-divider></md-menu-divider>
              
              <md-menu-item>
                <md-button ng-disabled="!vm.checkSelected()"  ng-click="vm.gotoEditPage()">
                 {{'EDIT'|translate}}
                </md-button>
              </md-menu-item>
              
              <md-menu-item>
                <md-button ng-disabled="!vm.checkSelected()" ng-click="vm.deleteReview()">
                  {{'DELETE'|translate}}
                  
                </md-button>
              </md-menu-item>
            </md-menu-content>
          </md-menu>
          </div>
                </th>

	    <th>{{'DATE'|translate}}</th>
      <th>{{'LOCATION'|translate}}</th>
	    <th>{{'DEVELOPMENT'|translate}}</th>
	    <th>{{'TYPE'|translate}}</th>
	    <th>{{'MANAGER'|translate}}</th>
	    <th>{{'REVIEWER'|translate}}</th>
      <th>{{'ACTION'|translate}}</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="review in vm.review"  ng-click="vm.reviewSelect(review.id)" >
            <td> <md-checkbox aria-label="check" ng-checked="review.selected"></md-checkbox></td>
            <td>{{ review.date|date:'yyyy-MM-dd  (HH:mm)' }}</td>
             <td>{{ review.location.meetspace_code}}</td>
            <td>[{{review.development.shop.shop_code}}]&nbsp{{ review.development.title}} -  {{review.development.development.development_type.devtype_code}}</td>
            <td>{{ review.type.revtype_code }}</td>
            <td><div ng-repeat="manager in review.manager">{{ manager.role.role_code }}:{{ manager.employee.employee_name }}<br></div></td>
            <td><span ng-repeat="reviwer in review.reviwer">{{ reviwer.name }}<br></span></td>
            <td ng-click="vm.gotoContentPage(review.id)">&nbsp&nbsp&nbsp<i class="material-icons">launch</i></td>
        </tr>
        </tbody>
    </table>
</section>

